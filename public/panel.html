<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“‹ Table Calibration Console</title>
<link rel="stylesheet" href="/panel.css">
</head>
<body>

<h1>ðŸ“‹ Table Calibration Console</h1>
<div id="coords">X:â€‘Â Y:â€‘</div>

<!-- ========================================================= -->
<!-- STEP 1 â€“ Table Top & Bottom -->
<!-- ========================================================= -->
<section id="step1">
  <h3>Step 1 â€“ Table Region (Top & Bottom)</h3>
  <p>
    Hover the <strong>topmost row</strong> â†’ press <b>T</b><br>
    Hover the <strong>bottommost row</strong> â†’ press <b>B</b>
  </p>
  <div>Top: <span id="topVal">(unset)</span></div>
  <div>Bottom: <span id="botVal">(unset)</span></div>
</section>

<!-- ========================================================= -->
<!-- STEP 2 â€“ Columns -->
<!-- ========================================================= -->
<section id="step2" style="display:none;">
  <h3>Step 2 â€“ Columns</h3>
  <p>The first column must be the <strong>Date</strong> column.</p>
  <div id="cols"></div>
  <button onclick="addColumn()">âž• Add Column</button>
</section>

<!-- ========================================================= -->
<!-- STEP 3 â€“ Title Area -->
<!-- ========================================================= -->
<section id="step3" style="display:none;">
  <h3>Step 3 â€“ Title Area</h3>
  <p>
    Hover topâ€‘left of title â†’ press <b>L</b><br>
    Hover bottomâ€‘right â†’ press <b>R</b>
  </p>
  <div>Title TL: <span id="titleTopLeftVal">(unset)</span></div>
  <div>Title BR: <span id="titleBottomRightVal">(unset)</span></div>
  <button onclick="captureTitle()">ðŸ“¸ Test Title OCR</button>
</section>

<!-- ========================================================= -->
<!-- STEP 4 â€“ Next Table -->
<!-- ========================================================= -->
<section id="step4" style="display:none;">
  <h3>Step 4 â€“ Next Table</h3>
  <p>Hover the <strong>Next Table</strong> button â†’ press <b>N</b></p>
  <div>Next Table: <span id="nextTableVal">(unset)</span></div>
</section>

<!-- ========================================================= -->
<!-- STEP 5 â€“ No Data Area -->
<!-- ========================================================= -->
<section id="step5" style="display:none;">
  <h3>Step 5 â€“ No Data Area</h3>
  <p>
    Hover TL of no-data message â†’ press <b>Y</b><br>
    Hover BR â†’ press <b>U</b>
  </p>
  <div>No-data TL: <span id="noDataTopLeftVal">(unset)</span></div>
  <div>No-data BR: <span id="noDataBottomRightVal">(unset)</span></div>
</section>

<!-- ========================================================= -->
<!-- STEP 6 â€“ Settings & Date Filter Calibration -->
<!-- ========================================================= -->
<section id="step6" style="display:none;">
  <h3>Step 6 â€“ Settings & Date Filter Calibration</h3>

  <p>Hover each element and press the hotkey:</p>

  <ul>
    <li><b>W</b> â€” Settings button 
      <span id="settingsButtonVal">(unset)</span>
    </li>
    <li><b>O</b> â€” Settings panel topâ€‘left 
      <span id="settingsTLVal">(unset)</span>
    </li>
    <li><b>P</b> â€” Settings panel bottomâ€‘right 
      <span id="settingsBRVal">(unset)</span>
    </li>
    <li><b>D</b> â€” Date filter radio button 
      <span id="dateFilterVal">(unset)</span>
    </li>
    <li><b>F</b> â€” Start date text box 
      <span id="dateStartVal">(unset)</span>
    </li>
    <li><b>G</b> â€” End date text box 
      <span id="dateEndVal">(unset)</span>
    </li>
    <li><b>A</b> â€” Apply button 
      <span id="applyBtnVal">(unset)</span>
    </li>
    <li><b>Q</b> â€” Search box 
      <span id="searchBoxVal">(unset)</span>
    </li>
  </ul>
</section>

<!-- ========================================================= -->
<!-- STEP 7 â€“ Date Range Calibration -->
<!-- ========================================================= -->
<section id="step7" style="display:none;">
  <h3>Step 7 â€“ Date Range Settings</h3>

  <p>Format must be <strong>DDMMYYYY</strong>.</p>

  <label>Start Date:</label><br>
  <input id="dateRangeStart" type="text" maxlength="8"><br><br>

  <label>End Date:</label><br>
  <input id="dateRangeEnd" type="text" maxlength="8"><br><br>

  <label>Days per Block:</label><br>
  <input id="daysPerBlock" type="number" min="1" max="31"><br><br>

  <button onclick="saveDateRange()">ðŸ’¾ Save Date Range</button>
</section>

<!-- ========================================================= -->
<!-- STEP 8 â€“ Rows Per Screen -->
<!-- ========================================================= -->
<section id="step8" style="display:none;">
  <h3>Step 8 â€“ Rows Per Screen</h3>
  <p>
    Load a table with many rows so the table is full.<br>
    Count how many rows are fully visible.<br>
    Enter that number here:
  </p>
  <input id="rowsPerScreen" type="number" min="1" max="200">
  <button onclick="saveRowsPerScreen()">ðŸ’¾ Save Rows Per Screen</button>
</section>

<!-- ========================================================= -->
<!-- MAIN ACTION: SCAN FULL DATE RANGE -->
<!-- ========================================================= -->
<section id="scanBlock" style="display:none;">
  <h3>Full Scan Automation</h3>
  <p>This will loop through all date blocks and all tables.</p>
  <button onclick="scanFullDateRange()">â–¶ Scan Full Date Range</button>
</section>

<!-- ========================================================= -->
<!-- CONSOLE LOG -->
<!-- ========================================================= -->
<h3>Console</h3>
<div id="console">(nothing yet)</div>

<!-- ========================================================= -->
<!-- scripts -->
<!-- ========================================================= -->
<script src="/panelJS/ui-helpers.js"></script>
<script src="/panelJS/endpoints.js"></script>
<script src="/panelJS/calibration.js"></script>
<script src="/panelJS/capture.js"></script>
<script src="/panelJS/auto-date.js"></script>
<script src="/panel.js"></script>

</body>
</html>